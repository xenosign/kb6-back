2025-03-02T16:41:20.197+09:00  INFO 14312 --- [kb6-back] [main] com.tetz.kb6_back.Kb6BackApplication     : Starting Kb6BackApplication using Java 17.0.11 with PID 14312 (D:\git\kb6-back\kb6-back\build\classes\java\main started by lhs in D:\git\kb6-back)
2025-03-02T16:41:20.209+09:00  INFO 14312 --- [kb6-back] [main] com.tetz.kb6_back.Kb6BackApplication     : No active profile set, falling back to 1 default profile: "default"
2025-03-02T16:41:20.881+09:00  INFO 14312 --- [kb6-back] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-03-02T16:41:20.883+09:00  INFO 14312 --- [kb6-back] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-02T16:41:21.024+09:00  INFO 14312 --- [kb6-back] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 120 ms. Found 2 JPA repository interfaces.
2025-03-02T16:41:21.043+09:00  INFO 14312 --- [kb6-back] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-03-02T16:41:21.044+09:00  INFO 14312 --- [kb6-back] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-03-02T16:41:21.058+09:00  INFO 14312 --- [kb6-back] [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.tetz.kb6_back.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-03-02T16:41:21.058+09:00  INFO 14312 --- [kb6-back] [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.tetz.kb6_back.repository.UserSQLRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-03-02T16:41:21.059+09:00  INFO 14312 --- [kb6-back] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
2025-03-02T16:41:21.643+09:00  INFO 14312 --- [kb6-back] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-03-02T16:41:21.660+09:00  INFO 14312 --- [kb6-back] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-02T16:41:21.661+09:00  INFO 14312 --- [kb6-back] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-03-02T16:41:21.741+09:00  INFO 14312 --- [kb6-back] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-03-02T16:41:21.742+09:00  INFO 14312 --- [kb6-back] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1481 ms
2025-03-02T16:41:21.927+09:00  INFO 14312 --- [kb6-back] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-02T16:41:21.990+09:00  INFO 14312 --- [kb6-back] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.5.Final
2025-03-02T16:41:22.026+09:00  INFO 14312 --- [kb6-back] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-02T16:41:22.326+09:00  INFO 14312 --- [kb6-back] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-02T16:41:22.359+09:00  INFO 14312 --- [kb6-back] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-02T16:41:22.526+09:00  INFO 14312 --- [kb6-back] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@318e3942
2025-03-02T16:41:22.528+09:00  INFO 14312 --- [kb6-back] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-02T16:41:22.565+09:00  WARN 14312 --- [kb6-back] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-02T16:41:22.566+09:00  WARN 14312 --- [kb6-back] [main] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-03-02T16:41:22.584+09:00  INFO 14312 --- [kb6-back] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-03-02T16:41:23.247+09:00  INFO 14312 --- [kb6-back] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-02T16:41:23.287+09:00  INFO 14312 --- [kb6-back] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-02T16:41:23.528+09:00  INFO 14312 --- [kb6-back] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-03-02T16:41:24.323+09:00  WARN 14312 --- [kb6-back] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-02T16:41:24.771+09:00  INFO 14312 --- [kb6-back] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-03-02T16:41:24.781+09:00  INFO 14312 --- [kb6-back] [main] com.tetz.kb6_back.Kb6BackApplication     : Started Kb6BackApplication in 5.007 seconds (process running for 5.365)
2025-03-02T16:41:26.533+09:00  INFO 14312 --- [kb6-back] [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-02T16:41:26.533+09:00  INFO 14312 --- [kb6-back] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-03-02T16:41:26.535+09:00  INFO 14312 --- [kb6-back] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-03-02T16:41:26.783+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-15] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.783+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-11] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.782+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-13] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.782+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-21] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.783+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-14] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.783+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-18] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.783+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-4] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.787+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-47] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.787+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-61] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.787+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-63] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.788+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-53] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.789+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-62] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.792+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-60] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.792+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-59] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.795+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-75] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.797+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-72] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.797+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-76] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.797+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-74] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.797+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-79] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.799+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-86] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.803+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-99] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.803+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-93] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.804+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-2] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.804+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-95] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.804+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-1] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.804+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-98] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.804+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-8] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.806+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-91] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.805+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-16] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.806+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-97] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.807+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-20] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.808+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-27] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.809+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-28] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.809+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-31] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.811+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-38] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.811+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-37] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.811+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-33] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.813+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-26] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.813+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-44] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.814+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-50] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.815+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-43] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.814+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-30] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.815+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-23] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.816+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-40] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.816+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-25] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.816+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-52] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.816+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-49] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.814+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-17] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.815+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-46] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.817+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-56] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.818+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-45] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.818+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-58] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.818+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-57] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.820+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-51] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.823+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-36] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.825+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-35] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.831+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-48] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.834+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-82] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.836+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-70] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.838+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-69] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.839+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-87] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.839+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-78] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.839+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-68] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.839+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-67] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.840+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-54] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.840+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-3] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.841+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-77] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.841+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-100] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.841+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-9] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.843+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-10] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.843+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-85] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.843+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-7] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.844+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-19] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.845+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-92] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.846+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-39] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.848+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-11] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:41:26.853+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-61] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:41:26.853+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-63] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:41:26.854+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-32] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.854+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-81] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.854+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-21] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:41:26.854+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-34] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.854+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-84] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.855+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-66] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.856+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-62] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:41:26.856+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-13] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:41:26.857+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-89] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.857+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-96] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.861+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-60] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:41:26.862+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-80] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.864+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-41] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.867+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-53] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:41:26.867+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-47] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:41:26.868+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-94] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.873+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-42] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.874+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-24] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.874+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-83] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.875+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-31] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:41:26.875+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-76] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:41:26.879+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-99] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:41:26.880+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-74] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:41:26.883+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-93] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:41:26.887+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-91] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:41:26.888+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-8] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:41:26.888+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-45] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:41:26.888+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-58] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:41:26.888+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-97] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:41:26.889+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-44] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:41:26.892+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-28] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:41:26.893+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-57] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:41:26.897+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-26] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:41:26.897+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-49] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:41:26.898+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-17] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:41:26.898+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-38] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:41:26.898+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-33] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:41:26.901+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-51] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:41:26.901+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-82] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:41:26.902+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-90] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.902+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-52] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:41:26.903+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-5] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.903+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-25] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:41:26.905+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-12] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:26.908+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-20] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:41:26.908+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-50] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:41:26.909+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-1] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:41:26.909+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-2] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:41:26.910+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-18] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:41:26.912+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-59] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:41:26.912+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-40] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:41:26.913+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-98] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:41:26.915+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-56] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:41:26.915+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-43] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:41:26.919+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-7] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:41:26.919+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-92] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:41:26.924+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-46] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:41:26.927+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-48] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:41:26.927+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-77] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:41:26.930+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-39] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:41:26.930+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-10] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:41:26.930+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-94] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:41:26.930+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-80] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:41:26.932+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-63] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:41:26.932+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-84] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:41:26.932+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-11] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:41:26.934+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-66] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:41:26.936+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-68] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:41:26.937+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-41] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:41:26.938+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-60] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:41:26.938+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-89] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:41:26.938+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-96] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:41:26.939+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-67] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:41:26.942+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-3] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:41:26.947+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-34] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:41:26.947+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-21] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:41:26.948+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-76] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:41:26.949+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-85] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:41:26.952+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-93] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:41:26.952+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-75] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:41:26.952+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-99] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:41:26.954+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-74] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:41:26.956+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-87] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:41:26.956+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-32] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:41:26.956+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-33] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:41:26.957+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-31] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:41:26.957+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-13] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:41:26.957+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-62] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:41:26.957+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-81] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:41:26.958+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-47] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:41:26.962+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-69] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:41:26.965+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-45] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:41:26.965+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-52] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:41:26.966+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-8] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:41:26.966+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-97] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:41:26.966+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-44] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:41:26.968+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-58] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:41:26.968+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-82] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:41:26.975+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-57] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:41:26.983+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-50] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:41:26.983+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-78] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:41:26.982+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-40] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:41:26.983+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-1] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:41:26.991+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-61] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:41:26.991+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-59] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:41:26.993+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-51] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:41:26.995+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-2] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:41:26.999+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-20] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:41:26.999+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-80] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:41:26.999+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-63] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:41:26.999+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-46] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:41:27.008+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-76] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:41:27.008+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-3] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:41:27.009+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-34] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:41:27.010+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-21] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:41:27.011+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-68] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:41:27.012+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-26] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:41:27.015+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-48] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:41:27.017+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-53] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:41:27.018+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-54] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:41:27.020+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-43] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:41:27.020+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-81] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:41:27.021+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-94] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:41:27.021+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-56] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:41:27.021+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-97] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:41:27.024+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-39] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:41:27.028+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-85] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:41:27.030+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-38] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:41:27.033+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-87] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:41:27.033+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-33] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:41:27.033+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-93] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:41:27.035+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-31] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:41:27.035+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-49] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:41:27.037+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-75] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:41:27.039+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-32] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:41:27.039+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-77] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:41:27.039+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-90] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:41:27.043+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-62] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:41:27.043+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-69] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:41:27.043+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-13] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:41:27.043+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-74] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:41:27.045+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-98] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:41:27.048+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-11] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:41:27.048+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-52] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:41:27.050+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-92] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:41:27.050+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-45] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:41:27.053+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-66] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:41:27.053+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-58] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:41:27.054+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-8] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:41:27.054+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-99] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:41:27.054+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-57] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:41:27.054+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-82] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:41:27.056+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-44] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:41:27.057+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-60] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:41:27.061+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-50] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:41:27.061+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-89] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:41:27.062+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-2] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:41:27.062+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-96] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:41:27.062+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-42] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:41:27.062+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-83] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:41:27.063+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-59] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:41:27.063+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-1] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:41:27.069+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-40] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:41:27.069+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-6] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:27.073+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-46] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:41:27.073+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-34] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:41:27.073+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-51] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:41:27.073+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-68] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:41:27.073+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-23] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:41:27.074+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-80] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:41:27.074+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-76] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:41:27.074+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-3] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:41:27.075+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-21] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:41:27.088+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-20] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:41:27.092+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-97] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:41:27.093+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-41] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:41:27.095+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-26] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:41:27.095+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-43] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:41:27.097+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-94] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:41:27.100+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-81] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:41:27.100+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-5] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:41:27.101+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-56] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:41:27.103+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-49] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:41:27.105+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-62] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:41:27.105+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-38] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:41:27.103+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-30] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:41:27.103+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-31] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:41:27.105+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-71] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:41:27.106+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-39] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:41:27.106+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-69] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:41:27.112+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-32] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:41:27.113+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-85] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:41:27.113+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-36] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:41:27.113+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-87] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:41:27.114+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-54] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:41:27.114+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-48] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:41:27.115+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-75] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:41:27.117+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-53] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:41:27.123+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-13] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:41:27.123+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-33] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:41:27.123+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-74] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:41:27.123+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-92] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:41:27.124+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-8] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:41:27.124+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-52] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:41:27.128+09:00 ERROR 14312 --- [kb6-back] [pool-3-thread-76] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:41:27.127+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-44] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:41:27.132+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-82] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:41:27.132+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-40] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:41:27.132+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-50] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:41:27.132+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-2] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:41:27.134+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-45] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:41:27.136+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-68] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:41:27.138+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-58] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:41:27.141+09:00 ERROR 14312 --- [kb6-back] [pool-3-thread-21] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:41:27.157+09:00 ERROR 14312 --- [kb6-back] [pool-3-thread-97] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:41:27.158+09:00 ERROR 14312 --- [kb6-back] [pool-3-thread-31] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:41:27.158+09:00 ERROR 14312 --- [kb6-back] [pool-3-thread-62] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:41:27.162+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-80] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:41:27.168+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-3] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:41:27.168+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-57] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:41:27.169+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-51] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:41:27.171+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-24] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:41:27.173+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-81] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:41:27.175+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-43] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:41:27.177+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-56] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:41:27.184+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-66] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:41:27.187+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-18] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:41:27.188+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-23] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:41:27.188+09:00 ERROR 14312 --- [kb6-back] [pool-3-thread-2] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:41:27.188+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-94] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:41:27.188+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-46] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:41:27.188+09:00 ERROR 14312 --- [kb6-back] [pool-3-thread-50] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:41:27.188+09:00 ERROR 14312 --- [kb6-back] [pool-3-thread-40] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:41:27.188+09:00 ERROR 14312 --- [kb6-back] [pool-3-thread-8] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:41:27.188+09:00 ERROR 14312 --- [kb6-back] [pool-3-thread-82] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:41:27.188+09:00 ERROR 14312 --- [kb6-back] [pool-3-thread-52] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:41:27.188+09:00 ERROR 14312 --- [kb6-back] [pool-3-thread-33] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:41:27.188+09:00 ERROR 14312 --- [kb6-back] [pool-3-thread-13] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:41:27.188+09:00 ERROR 14312 --- [kb6-back] [pool-3-thread-45] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:41:27.188+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-39] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:41:27.188+09:00 ERROR 14312 --- [kb6-back] [pool-3-thread-74] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:41:27.188+09:00 ERROR 14312 --- [kb6-back] [pool-3-thread-68] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:41:27.189+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-47] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:41:27.189+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-49] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:41:27.190+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-26] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:41:27.190+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-1] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:41:27.190+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-38] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:41:27.189+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-60] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:41:27.190+09:00 ERROR 14312 --- [kb6-back] [pool-3-thread-44] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:41:27.191+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-87] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:41:27.191+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-75] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:41:27.191+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-53] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:41:27.191+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-54] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:41:27.191+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-89] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:41:27.191+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-42] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:41:27.191+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-84] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:41:27.192+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-32] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:41:27.195+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-36] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:41:27.195+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-92] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:41:27.196+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-11] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:41:27.197+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-59] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:41:27.197+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-77] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:41:27.197+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-96] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:41:27.198+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-71] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:41:27.199+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-90] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:41:27.199+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-30] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:41:27.199+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-35] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:41:27.199+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-6] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:41:27.200+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-5] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:41:27.200+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-48] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:41:27.201+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-41] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:41:27.203+09:00 ERROR 14312 --- [kb6-back] [pool-3-thread-58] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:41:27.219+09:00 ERROR 14312 --- [kb6-back] [pool-3-thread-80] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:41:27.220+09:00 ERROR 14312 --- [kb6-back] [pool-3-thread-57] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:41:27.220+09:00 ERROR 14312 --- [kb6-back] [pool-3-thread-3] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:41:27.234+09:00 ERROR 14312 --- [kb6-back] [pool-3-thread-43] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:41:27.234+09:00 ERROR 14312 --- [kb6-back] [pool-3-thread-81] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:41:27.234+09:00 ERROR 14312 --- [kb6-back] [pool-3-thread-51] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:41:27.235+09:00 ERROR 14312 --- [kb6-back] [pool-3-thread-56] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:41:27.249+09:00 ERROR 14312 --- [kb6-back] [pool-3-thread-75] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:41:27.249+09:00 ERROR 14312 --- [kb6-back] [pool-3-thread-87] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:41:27.249+09:00 ERROR 14312 --- [kb6-back] [pool-3-thread-26] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:41:27.249+09:00 ERROR 14312 --- [kb6-back] [pool-3-thread-92] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:41:27.249+09:00 ERROR 14312 --- [kb6-back] [pool-3-thread-46] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:41:27.249+09:00 ERROR 14312 --- [kb6-back] [pool-3-thread-32] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:41:27.249+09:00 ERROR 14312 --- [kb6-back] [pool-3-thread-49] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:41:27.249+09:00 ERROR 14312 --- [kb6-back] [pool-3-thread-38] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:41:27.249+09:00 ERROR 14312 --- [kb6-back] [pool-3-thread-60] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:41:27.249+09:00 ERROR 14312 --- [kb6-back] [pool-3-thread-94] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:41:27.249+09:00 ERROR 14312 --- [kb6-back] [pool-3-thread-1] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:41:27.249+09:00 ERROR 14312 --- [kb6-back] [pool-3-thread-39] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:41:27.252+09:00 ERROR 14312 --- [kb6-back] [pool-3-thread-11] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:41:27.253+09:00 ERROR 14312 --- [kb6-back] [pool-3-thread-59] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:41:27.249+09:00 ERROR 14312 --- [kb6-back] [pool-3-thread-53] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:41:27.259+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-54] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:41:27.259+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-18] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:41:27.259+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-47] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:41:27.259+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-77] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:41:27.260+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-23] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:41:27.265+09:00 ERROR 14312 --- [kb6-back] [pool-3-thread-48] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:41:27.268+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-36] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:41:27.268+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-89] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:41:27.268+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-42] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:41:27.274+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-5] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:41:27.275+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-6] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:41:27.275+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-71] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:41:27.275+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-96] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:41:27.276+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-90] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:41:27.276+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-30] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:41:27.312+09:00 ERROR 14312 --- [kb6-back] [pool-3-thread-47] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:41:27.312+09:00 ERROR 14312 --- [kb6-back] [pool-3-thread-77] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:41:27.312+09:00 ERROR 14312 --- [kb6-back] [pool-3-thread-54] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:41:27.324+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-23] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:41:27.328+09:00 ERROR 14312 --- [kb6-back] [pool-3-thread-89] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:41:27.328+09:00 ERROR 14312 --- [kb6-back] [pool-3-thread-96] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:41:27.337+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-90] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:41:27.337+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-6] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:41:27.337+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-71] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:41:27.337+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-5] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:41:27.338+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-30] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:41:27.338+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-36] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:41:27.376+09:00 ERROR 14312 --- [kb6-back] [pool-3-thread-23] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:41:27.392+09:00 ERROR 14312 --- [kb6-back] [pool-3-thread-36] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:41:27.392+09:00 ERROR 14312 --- [kb6-back] [pool-3-thread-90] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:41:27.392+09:00 ERROR 14312 --- [kb6-back] [pool-3-thread-5] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:41:27.392+09:00 ERROR 14312 --- [kb6-back] [pool-3-thread-30] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:41:27.400+09:00  INFO 14312 --- [kb6-back] [pool-3-thread-71] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:41:27.453+09:00 ERROR 14312 --- [kb6-back] [pool-3-thread-71] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:41:27.454+09:00  INFO 14312 --- [kb6-back] [http-nio-8080-exec-2] c.t.k.s.OptimisticLockProductService     : Optimistic lock test completed. Duration: 780ms, Success: 48, Fail: 52
2025-03-02T16:41:27.538+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-14] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.538+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-59] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.538+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-98] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.538+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-99] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.538+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-49] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.538+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-47] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.539+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-97] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.539+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-17] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.538+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-22] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.539+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-1] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.539+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-13] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.539+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-92] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.539+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-31] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.539+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-68] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.539+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-7] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.539+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-61] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.539+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-44] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.539+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-87] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.539+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-28] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.539+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-11] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.539+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-65] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.539+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-10] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.539+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-90] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.539+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-43] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.539+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-69] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.539+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-6] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.539+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-41] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.539+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-20] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.539+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-8] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.539+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-26] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.539+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-56] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.539+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-9] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.539+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-77] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.539+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-86] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.539+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-15] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.540+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-79] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.540+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-62] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.540+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-100] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.540+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-95] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.540+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-75] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.540+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-42] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.539+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-91] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.540+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-40] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.540+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-84] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.540+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-82] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.540+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-51] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.540+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-5] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.540+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-70] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.540+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-94] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.540+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-58] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.540+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-83] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.540+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-34] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.540+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-30] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.540+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-3] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.540+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-57] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.540+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-27] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.540+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-37] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.540+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-66] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.540+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-78] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.541+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-93] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.541+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-32] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.541+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-55] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.541+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-39] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.541+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-2] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.541+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-71] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.541+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-24] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.541+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-63] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.541+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-52] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.541+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-33] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.541+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-74] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.541+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-60] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.538+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-46] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.538+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-89] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.538+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-54] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.541+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-36] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.538+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-38] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.541+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-21] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.538+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-88] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.538+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-67] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.538+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-73] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.539+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-72] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.539+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-96] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.541+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-25] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.541+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-4] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.539+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-45] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.540+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-16] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.540+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-53] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.539+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-81] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.540+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-23] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.540+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-18] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.539+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-85] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.540+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-12] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.540+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-19] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.540+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-76] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.541+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-35] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.540+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-48] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.541+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-50] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.540+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-64] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.541+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-80] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.541+09:00 ERROR 14312 --- [kb6-back] [pool-4-thread-29] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:41:27.542+09:00  INFO 14312 --- [kb6-back] [http-nio-8080-exec-2] c.t.k.s.PessimisticLockProductService    : Pessimistic lock test completed. Duration: 88ms, Success: 0, Fail: 100
2025-03-02T16:45:53.440+09:00  INFO 11340 --- [kb6-back] [main] com.tetz.kb6_back.Kb6BackApplication     : Starting Kb6BackApplication using Java 17.0.11 with PID 11340 (D:\git\kb6-back\kb6-back\build\classes\java\main started by lhs in D:\git\kb6-back)
2025-03-02T16:45:53.442+09:00  INFO 11340 --- [kb6-back] [main] com.tetz.kb6_back.Kb6BackApplication     : No active profile set, falling back to 1 default profile: "default"
2025-03-02T16:45:54.089+09:00  INFO 11340 --- [kb6-back] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-03-02T16:45:54.090+09:00  INFO 11340 --- [kb6-back] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-02T16:45:54.205+09:00  INFO 11340 --- [kb6-back] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 104 ms. Found 2 JPA repository interfaces.
2025-03-02T16:45:54.217+09:00  INFO 11340 --- [kb6-back] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-03-02T16:45:54.219+09:00  INFO 11340 --- [kb6-back] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-03-02T16:45:54.230+09:00  INFO 11340 --- [kb6-back] [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.tetz.kb6_back.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-03-02T16:45:54.232+09:00  INFO 11340 --- [kb6-back] [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.tetz.kb6_back.repository.UserSQLRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-03-02T16:45:54.232+09:00  INFO 11340 --- [kb6-back] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
2025-03-02T16:45:54.739+09:00  INFO 11340 --- [kb6-back] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-03-02T16:45:54.753+09:00  INFO 11340 --- [kb6-back] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-02T16:45:54.753+09:00  INFO 11340 --- [kb6-back] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-03-02T16:45:54.816+09:00  INFO 11340 --- [kb6-back] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-03-02T16:45:54.816+09:00  INFO 11340 --- [kb6-back] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1324 ms
2025-03-02T16:45:54.972+09:00  INFO 11340 --- [kb6-back] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-02T16:45:55.026+09:00  INFO 11340 --- [kb6-back] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.5.Final
2025-03-02T16:45:55.066+09:00  INFO 11340 --- [kb6-back] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-02T16:45:55.343+09:00  INFO 11340 --- [kb6-back] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-02T16:45:55.374+09:00  INFO 11340 --- [kb6-back] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-02T16:45:55.517+09:00  INFO 11340 --- [kb6-back] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4cd7e993
2025-03-02T16:45:55.518+09:00  INFO 11340 --- [kb6-back] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-02T16:45:55.548+09:00  WARN 11340 --- [kb6-back] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-02T16:45:55.549+09:00  WARN 11340 --- [kb6-back] [main] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-03-02T16:45:55.565+09:00  INFO 11340 --- [kb6-back] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-03-02T16:45:56.164+09:00  INFO 11340 --- [kb6-back] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-02T16:45:56.197+09:00  INFO 11340 --- [kb6-back] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-02T16:45:56.388+09:00  INFO 11340 --- [kb6-back] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-03-02T16:45:57.038+09:00  WARN 11340 --- [kb6-back] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-02T16:45:57.437+09:00  INFO 11340 --- [kb6-back] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-03-02T16:45:57.445+09:00  INFO 11340 --- [kb6-back] [main] com.tetz.kb6_back.Kb6BackApplication     : Started Kb6BackApplication in 4.419 seconds (process running for 4.747)
2025-03-02T16:46:00.927+09:00  INFO 11340 --- [kb6-back] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-02T16:46:00.927+09:00  INFO 11340 --- [kb6-back] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-03-02T16:46:00.928+09:00  INFO 11340 --- [kb6-back] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-03-02T16:46:01.112+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-1] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.112+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-8] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.112+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-9] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.112+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-4] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.112+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-5] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.113+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-6] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.113+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-10] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.113+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-2] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.114+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-7] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.119+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-13] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.119+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-12] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.120+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-17] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.120+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-18] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.120+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-15] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.120+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-19] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.121+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-14] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.121+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-11] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.121+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-20] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.167+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-21] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.167+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-29] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.167+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-23] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.167+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-25] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.167+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-24] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.167+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-30] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.168+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-22] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.168+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-27] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.168+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-28] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.218+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-31] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.218+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-32] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.218+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-35] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.219+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-40] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.219+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-37] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.219+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-36] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.219+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-34] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.220+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-39] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.220+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-33] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.231+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-18] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:46:01.246+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-1] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:46:01.246+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-10] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:46:01.246+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-13] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:46:01.246+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-2] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:46:01.246+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-6] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:46:01.259+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-14] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:46:01.259+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-20] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:46:01.271+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-49] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.272+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-15] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:46:01.272+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-46] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.272+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-43] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.271+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-44] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.272+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-4] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:46:01.274+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-47] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.274+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-48] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.274+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-50] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.274+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-42] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.274+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-41] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.279+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-24] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:46:01.279+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-12] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:46:01.279+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-29] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:46:01.285+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-21] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:46:01.305+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-22] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:46:01.324+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-51] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.326+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-52] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.326+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-30] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:46:01.325+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-55] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.328+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-54] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.328+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-53] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.330+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-40] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:46:01.330+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-57] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.330+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-33] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:46:01.330+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-39] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:46:01.331+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-59] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.331+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-56] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.336+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-60] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.347+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-32] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:46:01.347+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-36] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:46:01.373+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-61] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.373+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-68] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.374+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-65] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.374+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-69] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.375+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-67] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.376+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-64] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.376+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-63] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.377+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-66] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.381+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-70] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.381+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-46] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:46:01.388+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-43] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:46:01.413+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-41] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:46:01.422+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-75] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.422+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-76] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.422+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-73] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.423+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-71] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.424+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-72] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.429+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-42] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:46:01.430+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-44] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:46:01.430+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-78] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.430+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-74] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.430+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-79] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.467+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-14] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:46:01.467+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-18] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:46:01.467+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-59] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:46:01.473+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-10] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:46:01.475+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-53] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:46:01.482+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-52] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:46:01.482+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-6] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:46:01.482+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-82] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.482+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-55] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:46:01.482+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-51] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:46:01.483+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-81] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.484+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-83] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.484+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-69] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:46:01.485+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-68] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:46:01.488+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-67] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:46:01.488+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-85] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.488+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-54] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:46:01.488+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-12] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:46:01.494+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-60] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:46:01.498+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-1] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:46:01.499+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-24] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:46:01.499+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-87] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.499+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-86] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.500+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-20] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:46:01.500+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-88] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.505+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-90] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.506+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-65] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:46:01.520+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-61] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:46:01.520+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-29] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:46:01.532+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-64] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:46:01.532+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-66] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:46:01.532+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-75] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:46:01.532+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-21] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:46:01.532+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-70] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:46:01.538+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-73] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:46:01.549+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-76] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:46:01.549+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-30] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:46:01.551+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-92] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.551+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-93] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.551+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-94] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.553+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-95] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.554+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-91] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.559+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-99] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.560+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-97] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.559+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-96] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.560+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-98] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:46:01.562+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-78] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:46:01.570+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-39] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:46:01.570+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-33] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:46:01.571+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-74] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:46:01.571+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-71] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:46:01.597+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-46] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:46:01.619+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-82] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:46:01.628+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-83] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:46:01.628+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-88] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:46:01.643+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-86] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:46:01.660+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-93] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:46:01.660+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-94] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:46:01.660+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-44] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:46:01.661+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-95] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:46:01.683+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-98] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:46:01.683+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-97] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:46:01.683+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-96] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:46:01.706+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-67] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:46:01.706+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-92] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:46:01.706+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-68] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:46:01.706+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-91] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:46:01.725+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-69] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:46:01.725+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-60] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:46:01.725+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-55] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:46:01.742+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-75] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:46:01.751+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-64] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:46:01.873+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-88] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:46:01.873+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-83] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:46:01.894+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-96] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:46:01.907+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-93] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:46:01.907+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-6] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:46:01.937+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-20] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:46:01.949+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-1] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:46:01.981+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-30] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:46:02.175+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-55] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:46:02.175+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-75] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:46:02.803+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-30] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:46:02.982+09:00  INFO 11340 --- [kb6-back] [pool-3-thread-75] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:46:04.001+09:00  INFO 11340 --- [kb6-back] [http-nio-8080-exec-1] c.t.k.s.OptimisticLockProductService     : Optimistic lock test completed. Duration: 2971ms, Success: 100, Fail: 0
2025-03-02T16:46:04.067+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-83] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.068+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-74] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.068+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-64] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.067+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-62] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.067+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-96] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.068+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-28] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.067+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-81] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.067+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-2] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.067+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-10] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.068+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-76] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.068+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-68] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.067+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-67] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.067+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-91] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.068+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-75] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.068+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-94] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.068+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-27] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.068+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-14] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.068+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-1] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.067+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-61] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.068+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-40] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.068+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-43] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.068+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-92] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.068+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-88] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.068+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-38] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.068+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-36] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.068+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-53] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.068+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-22] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.068+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-56] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.067+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-71] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.068+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-33] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.068+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-21] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.068+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-24] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.068+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-69] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.068+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-18] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.068+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-50] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.069+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-11] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.069+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-7] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.068+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-72] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.067+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-89] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.068+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-8] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.068+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-60] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.069+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-100] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.069+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-48] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.068+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-5] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.069+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-4] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.067+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-3] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.068+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-58] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.069+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-6] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.068+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-55] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.069+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-30] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.068+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-12] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.068+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-52] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.069+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-13] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.068+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-80] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.069+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-63] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.069+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-15] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.067+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-85] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.068+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-41] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.069+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-51] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.068+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-45] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.070+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-65] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.069+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-77] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.069+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-26] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.068+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-42] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.069+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-70] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.067+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-17] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.068+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-25] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.068+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-49] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.068+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-46] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.069+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-59] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.069+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-78] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.067+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-23] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.069+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-95] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.067+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-86] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.068+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-20] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.068+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-44] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.068+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-93] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.068+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-99] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.070+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-73] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.068+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-19] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.069+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-87] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.068+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-79] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.068+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-66] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.068+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-16] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.068+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-31] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.068+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-90] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.068+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-84] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.068+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-47] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.070+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-35] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.068+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-37] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.068+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-29] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.068+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-9] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.068+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-98] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.068+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-32] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.069+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-97] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.069+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-57] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.069+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-54] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.069+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-82] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.070+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-39] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.070+09:00 ERROR 11340 --- [kb6-back] [pool-4-thread-34] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:46:04.071+09:00  INFO 11340 --- [kb6-back] [http-nio-8080-exec-1] c.t.k.s.PessimisticLockProductService    : Pessimistic lock test completed. Duration: 70ms, Success: 0, Fail: 100
2025-03-02T16:49:58.832+09:00  INFO 10688 --- [kb6-back] [main] com.tetz.kb6_back.Kb6BackApplication     : Starting Kb6BackApplication using Java 17.0.11 with PID 10688 (D:\git\kb6-back\kb6-back\build\classes\java\main started by lhs in D:\git\kb6-back)
2025-03-02T16:49:58.835+09:00  INFO 10688 --- [kb6-back] [main] com.tetz.kb6_back.Kb6BackApplication     : No active profile set, falling back to 1 default profile: "default"
2025-03-02T16:49:59.491+09:00  INFO 10688 --- [kb6-back] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-03-02T16:49:59.493+09:00  INFO 10688 --- [kb6-back] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-02T16:49:59.621+09:00  INFO 10688 --- [kb6-back] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 120 ms. Found 2 JPA repository interfaces.
2025-03-02T16:49:59.637+09:00  INFO 10688 --- [kb6-back] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-03-02T16:49:59.638+09:00  INFO 10688 --- [kb6-back] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-03-02T16:49:59.653+09:00  INFO 10688 --- [kb6-back] [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.tetz.kb6_back.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-03-02T16:49:59.653+09:00  INFO 10688 --- [kb6-back] [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.tetz.kb6_back.repository.UserSQLRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-03-02T16:49:59.654+09:00  INFO 10688 --- [kb6-back] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
2025-03-02T16:50:00.160+09:00  INFO 10688 --- [kb6-back] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-03-02T16:50:00.173+09:00  INFO 10688 --- [kb6-back] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-02T16:50:00.174+09:00  INFO 10688 --- [kb6-back] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-03-02T16:50:00.241+09:00  INFO 10688 --- [kb6-back] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-03-02T16:50:00.241+09:00  INFO 10688 --- [kb6-back] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1360 ms
2025-03-02T16:50:00.390+09:00  INFO 10688 --- [kb6-back] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-02T16:50:00.443+09:00  INFO 10688 --- [kb6-back] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.5.Final
2025-03-02T16:50:00.475+09:00  INFO 10688 --- [kb6-back] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-02T16:50:00.726+09:00  INFO 10688 --- [kb6-back] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-02T16:50:00.757+09:00  INFO 10688 --- [kb6-back] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-02T16:50:00.895+09:00  INFO 10688 --- [kb6-back] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2d07aacc
2025-03-02T16:50:00.897+09:00  INFO 10688 --- [kb6-back] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-02T16:50:00.927+09:00  WARN 10688 --- [kb6-back] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-02T16:50:00.927+09:00  WARN 10688 --- [kb6-back] [main] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-03-02T16:50:00.943+09:00  INFO 10688 --- [kb6-back] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-03-02T16:50:01.529+09:00  INFO 10688 --- [kb6-back] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-02T16:50:01.566+09:00  INFO 10688 --- [kb6-back] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-02T16:50:01.777+09:00  INFO 10688 --- [kb6-back] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-03-02T16:50:02.427+09:00  WARN 10688 --- [kb6-back] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-02T16:50:02.802+09:00  INFO 10688 --- [kb6-back] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-03-02T16:50:02.812+09:00  INFO 10688 --- [kb6-back] [main] com.tetz.kb6_back.Kb6BackApplication     : Started Kb6BackApplication in 4.405 seconds (process running for 4.74)
2025-03-02T16:50:06.655+09:00  INFO 10688 --- [kb6-back] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-02T16:50:06.656+09:00  INFO 10688 --- [kb6-back] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-03-02T16:50:06.657+09:00  INFO 10688 --- [kb6-back] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-03-02T16:50:06.860+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-18] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.860+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-20] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.860+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-14] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.860+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-13] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.860+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-17] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.860+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-16] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.861+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-75] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.862+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-78] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.862+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-79] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.863+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-84] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.864+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-87] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.865+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-2] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.865+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-1] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.865+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-3] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.865+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-7] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.867+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-8] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.867+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-10] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.869+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-97] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.870+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-98] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.871+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-100] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.871+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-26] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.871+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-21] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.871+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-15] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.872+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-28] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.873+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-38] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.873+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-33] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.875+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-34] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.875+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-42] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.875+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-36] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.877+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-32] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.877+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-39] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.877+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-37] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.877+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-43] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.877+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-41] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.878+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-22] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.878+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-45] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.878+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-44] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.878+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-46] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.879+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-61] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.879+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-47] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.879+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-48] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.879+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-71] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.880+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-50] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.880+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-49] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.881+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-56] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.881+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-52] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.881+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-54] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.881+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-57] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.881+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-55] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.882+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-53] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.882+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-62] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.882+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-66] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.882+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-60] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.882+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-63] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.883+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-59] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.883+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-65] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.883+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-64] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.883+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-67] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.884+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-73] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.884+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-68] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.884+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-69] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.885+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-72] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.885+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-74] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.885+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-77] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.886+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-70] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.886+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-80] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.887+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-83] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.887+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-85] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.887+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-93] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.888+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-90] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.888+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-89] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.888+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-96] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.889+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-99] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.889+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-4] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.889+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-9] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.890+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-25] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.890+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-27] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.890+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-24] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.890+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-6] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.890+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-5] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.891+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-12] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.892+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-29] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.892+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-30] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.892+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-81] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.893+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-35] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.894+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-82] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.894+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-40] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.894+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-58] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.895+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-88] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.895+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-86] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.896+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-11] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.899+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-51] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.899+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-94] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:50:06.971+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-79] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:06.971+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-14] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:06.972+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-78] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:06.972+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-75] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:06.972+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-16] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:06.973+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-18] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:06.973+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-17] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:06.973+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-20] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:06.987+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-2] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:06.987+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-21] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:06.987+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-97] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:06.989+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-15] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:06.990+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-84] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:06.996+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-1] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:06.996+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-37] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:06.999+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-44] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:06.999+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-10] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:07.001+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-38] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:07.001+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-7] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:07.002+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-98] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:07.003+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-36] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:07.003+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-22] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:07.003+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-39] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:07.003+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-73] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:07.004+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-28] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:07.006+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-8] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:07.012+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-72] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:07.012+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-85] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:07.013+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-67] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:07.013+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-90] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:07.015+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-5] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:07.015+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-61] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:07.016+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-89] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:07.016+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-83] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:07.018+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-68] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:07.022+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-80] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:07.022+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-45] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:07.023+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-57] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:07.024+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-27] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:07.025+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-94] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:07.025+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-50] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:07.026+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-63] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:07.029+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-33] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:07.030+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-34] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:07.033+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-42] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:07.034+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-46] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:07.035+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-53] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:07.035+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-58] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:07.036+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-82] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:07.036+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-47] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:07.036+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-3] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:07.036+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-12] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:07.036+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-64] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:07.037+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-99] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:07.044+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-100] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:07.045+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-59] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:07.046+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-60] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:07.046+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-81] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:07.046+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-54] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:07.047+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-48] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:07.048+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-49] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:07.049+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-51] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:07.053+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-62] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:07.054+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-4] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:07.055+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-93] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:07.055+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-70] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:07.056+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-56] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:07.056+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-65] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:07.057+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-52] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:07.059+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-35] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:07.061+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-25] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:07.061+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-86] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:07.062+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-74] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:07.062+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-66] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:07.062+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-55] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:07.063+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-88] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:07.064+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-29] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:07.064+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-41] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:07.064+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-11] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:07.067+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-69] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:07.067+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-6] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:07.067+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-40] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:07.068+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-87] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:50:07.083+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-78] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:50:07.084+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-16] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:50:07.084+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-20] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:50:07.085+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-75] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:50:07.085+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-18] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:50:07.085+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-17] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:50:07.086+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-79] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:50:07.096+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-97] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:50:07.097+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-21] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:50:07.097+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-15] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:50:07.113+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-44] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:50:07.113+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-7] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:50:07.113+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-1] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:50:07.113+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-98] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:50:07.113+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-39] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:50:07.114+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-38] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:50:07.114+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-37] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:50:07.114+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-84] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:50:07.114+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-36] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:50:07.114+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-28] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:50:07.115+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-22] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:50:07.127+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-85] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:50:07.127+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-67] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:50:07.127+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-5] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:50:07.128+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-61] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:50:07.128+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-68] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:50:07.128+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-72] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:50:07.129+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-8] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:50:07.129+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-90] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:50:07.129+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-83] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:50:07.142+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-42] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:50:07.143+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-50] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:50:07.143+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-34] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:50:07.143+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-45] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:50:07.144+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-33] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:50:07.144+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-63] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:50:07.144+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-80] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:50:07.144+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-57] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:50:07.144+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-53] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:50:07.145+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-46] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:50:07.145+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-94] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:50:07.154+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-54] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:50:07.155+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-60] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:50:07.155+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-51] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:50:07.155+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-3] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:50:07.155+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-100] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:50:07.155+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-99] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:50:07.156+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-59] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:50:07.156+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-49] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:50:07.156+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-81] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:50:07.156+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-64] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:50:07.156+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-47] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:50:07.160+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-82] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:50:07.173+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-55] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:50:07.174+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-74] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:50:07.174+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-4] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:50:07.175+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-35] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:50:07.175+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-52] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:50:07.176+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-70] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:50:07.177+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-86] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:50:07.177+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-62] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:50:07.178+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-93] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:50:07.178+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-25] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:50:07.179+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-69] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:50:07.183+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-6] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:50:07.183+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-29] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:50:07.183+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-11] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:50:07.183+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-65] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:50:07.184+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-88] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:50:07.184+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-41] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:50:07.188+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-87] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:50:07.205+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-20] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:50:07.206+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-18] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:50:07.206+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-15] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:50:07.207+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-75] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:50:07.207+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-17] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:50:07.207+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-79] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:50:07.207+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-78] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:50:07.207+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-21] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:50:07.209+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-97] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:50:07.223+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-44] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:50:07.223+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-1] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:50:07.238+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-72] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:50:07.238+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-38] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:50:07.238+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-68] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:50:07.239+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-85] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:50:07.239+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-84] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:50:07.239+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-90] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:50:07.240+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-83] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:50:07.241+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-61] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:50:07.241+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-98] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:50:07.242+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-39] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:50:07.247+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-37] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:50:07.247+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-36] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:50:07.247+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-5] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:50:07.248+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-28] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:50:07.249+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-22] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:50:07.259+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-50] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:50:07.260+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-80] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:50:07.261+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-57] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:50:07.262+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-94] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:50:07.262+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-46] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:50:07.262+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-33] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:50:07.263+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-63] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:50:07.263+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-45] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:50:07.267+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-53] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:50:07.274+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-49] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:50:07.274+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-54] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:50:07.277+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-64] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:50:07.277+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-99] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:50:07.277+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-59] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:50:07.277+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-81] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:50:07.282+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-60] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:50:07.287+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-3] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:50:07.289+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-74] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:50:07.289+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-69] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:50:07.290+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-4] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:50:07.290+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-35] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:50:07.292+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-62] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:50:07.292+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-55] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:50:07.292+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-25] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:50:07.292+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-52] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:50:07.295+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-82] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:50:07.297+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-86] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:50:07.297+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-47] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:50:07.299+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-70] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:50:07.306+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-41] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:50:07.306+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-6] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:50:07.306+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-29] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:50:07.307+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-87] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:50:07.307+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-11] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:50:07.307+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-88] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:50:07.322+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-20] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:50:07.322+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-17] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:50:07.322+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-79] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:50:07.323+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-97] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:50:07.323+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-18] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:50:07.323+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-21] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:50:07.324+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-15] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:50:07.324+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-75] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:50:07.338+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-1] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:50:07.353+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-98] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:50:07.354+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-90] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:50:07.354+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-61] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:50:07.354+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-85] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:50:07.355+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-72] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:50:07.355+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-38] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:50:07.356+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-68] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:50:07.356+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-84] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:50:07.369+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-36] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:50:07.369+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-80] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:50:07.369+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-28] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:50:07.370+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-22] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:50:07.370+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-50] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:50:07.370+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-5] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:50:07.386+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-33] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:50:07.386+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-49] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:50:07.386+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-46] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:50:07.387+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-94] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:50:07.387+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-63] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:50:07.388+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-45] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:50:07.388+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-57] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:50:07.388+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-53] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:50:07.399+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-59] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:50:07.400+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-64] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:50:07.399+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-60] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:50:07.400+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-3] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:50:07.400+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-35] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:50:07.400+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-81] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:50:07.400+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-74] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:50:07.401+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-4] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:50:07.401+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-99] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:50:07.415+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-62] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:50:07.416+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-55] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:50:07.416+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-25] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:50:07.416+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-47] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:50:07.417+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-88] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:50:07.417+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-82] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:50:07.417+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-70] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:50:07.417+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-11] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:50:07.420+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-6] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:50:07.421+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-52] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:50:07.421+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-29] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:50:07.423+09:00  INFO 10688 --- [kb6-back] [pool-3-thread-87] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:50:07.423+09:00 ERROR 10688 --- [kb6-back] [pool-3-thread-97] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:50:07.423+09:00 ERROR 10688 --- [kb6-back] [pool-3-thread-18] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:50:07.423+09:00 ERROR 10688 --- [kb6-back] [pool-3-thread-79] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:50:07.423+09:00 ERROR 10688 --- [kb6-back] [pool-3-thread-17] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:50:07.423+09:00 ERROR 10688 --- [kb6-back] [pool-3-thread-20] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:50:07.425+09:00 ERROR 10688 --- [kb6-back] [pool-3-thread-21] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:50:07.440+09:00 ERROR 10688 --- [kb6-back] [pool-3-thread-15] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:50:07.440+09:00 ERROR 10688 --- [kb6-back] [pool-3-thread-75] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:50:07.440+09:00 ERROR 10688 --- [kb6-back] [pool-3-thread-1] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:50:07.456+09:00 ERROR 10688 --- [kb6-back] [pool-3-thread-90] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:50:07.456+09:00 ERROR 10688 --- [kb6-back] [pool-3-thread-61] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:50:07.456+09:00 ERROR 10688 --- [kb6-back] [pool-3-thread-98] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:50:07.456+09:00 ERROR 10688 --- [kb6-back] [pool-3-thread-72] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:50:07.456+09:00 ERROR 10688 --- [kb6-back] [pool-3-thread-85] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:50:07.459+09:00 ERROR 10688 --- [kb6-back] [pool-3-thread-38] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:50:07.471+09:00 ERROR 10688 --- [kb6-back] [pool-3-thread-5] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:50:07.471+09:00 ERROR 10688 --- [kb6-back] [pool-3-thread-36] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:50:07.471+09:00 ERROR 10688 --- [kb6-back] [pool-3-thread-80] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:50:07.471+09:00 ERROR 10688 --- [kb6-back] [pool-3-thread-22] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:50:07.471+09:00 ERROR 10688 --- [kb6-back] [pool-3-thread-50] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:50:07.471+09:00 ERROR 10688 --- [kb6-back] [pool-3-thread-68] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:50:07.471+09:00 ERROR 10688 --- [kb6-back] [pool-3-thread-84] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:50:07.471+09:00 ERROR 10688 --- [kb6-back] [pool-3-thread-28] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:50:07.487+09:00 ERROR 10688 --- [kb6-back] [pool-3-thread-49] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:50:07.487+09:00 ERROR 10688 --- [kb6-back] [pool-3-thread-46] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:50:07.487+09:00 ERROR 10688 --- [kb6-back] [pool-3-thread-33] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:50:07.488+09:00 ERROR 10688 --- [kb6-back] [pool-3-thread-63] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:50:07.488+09:00 ERROR 10688 --- [kb6-back] [pool-3-thread-94] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:50:07.503+09:00 ERROR 10688 --- [kb6-back] [pool-3-thread-74] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:50:07.503+09:00 ERROR 10688 --- [kb6-back] [pool-3-thread-60] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:50:07.503+09:00 ERROR 10688 --- [kb6-back] [pool-3-thread-35] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:50:07.503+09:00 ERROR 10688 --- [kb6-back] [pool-3-thread-3] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:50:07.503+09:00 ERROR 10688 --- [kb6-back] [pool-3-thread-53] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:50:07.503+09:00 ERROR 10688 --- [kb6-back] [pool-3-thread-59] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:50:07.503+09:00 ERROR 10688 --- [kb6-back] [pool-3-thread-4] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:50:07.503+09:00 ERROR 10688 --- [kb6-back] [pool-3-thread-99] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:50:07.503+09:00 ERROR 10688 --- [kb6-back] [pool-3-thread-57] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:50:07.503+09:00 ERROR 10688 --- [kb6-back] [pool-3-thread-45] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:50:07.503+09:00 ERROR 10688 --- [kb6-back] [pool-3-thread-81] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:50:07.503+09:00 ERROR 10688 --- [kb6-back] [pool-3-thread-64] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:50:07.519+09:00 ERROR 10688 --- [kb6-back] [pool-3-thread-82] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:50:07.519+09:00 ERROR 10688 --- [kb6-back] [pool-3-thread-55] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:50:07.519+09:00 ERROR 10688 --- [kb6-back] [pool-3-thread-88] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:50:07.519+09:00 ERROR 10688 --- [kb6-back] [pool-3-thread-25] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:50:07.519+09:00 ERROR 10688 --- [kb6-back] [pool-3-thread-47] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:50:07.519+09:00 ERROR 10688 --- [kb6-back] [pool-3-thread-62] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:50:07.519+09:00 ERROR 10688 --- [kb6-back] [pool-3-thread-11] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:50:07.519+09:00 ERROR 10688 --- [kb6-back] [pool-3-thread-70] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:50:07.524+09:00 ERROR 10688 --- [kb6-back] [pool-3-thread-87] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:50:07.534+09:00 ERROR 10688 --- [kb6-back] [pool-3-thread-52] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:50:07.534+09:00 ERROR 10688 --- [kb6-back] [pool-3-thread-29] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:50:07.534+09:00 ERROR 10688 --- [kb6-back] [pool-3-thread-6] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:50:07.536+09:00  INFO 10688 --- [kb6-back] [http-nio-8080-exec-1] c.t.k.s.OptimisticLockProductService     : Optimistic lock test completed. Duration: 779ms, Success: 48, Fail: 52
2025-03-02T16:50:08.087+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-9] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.087+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-8] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.087+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-2] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.086+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-13] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.087+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-7] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.086+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-3] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.087+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-16] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.097+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-9] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.087+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-10] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.097+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-8] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.098+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-27] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.086+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-6] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.087+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-17] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.087+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-20] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.087+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-4] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.086+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-5] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.086+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-11] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.087+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-19] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.086+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-14] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.086+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-1] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.087+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-12] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.087+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-18] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.086+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-15] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.109+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-15] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.097+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-2] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.098+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-13] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.099+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-7] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.099+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-3] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.100+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-16] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.098+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-30] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.097+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-25] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.098+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-28] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.098+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-29] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.101+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-10] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.098+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-26] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.097+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-22] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.097+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-21] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.097+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-23] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.097+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-24] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.102+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-27] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.102+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-6] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.103+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-17] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.103+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-20] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.106+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-14] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.104+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-4] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.104+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-5] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.118+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-24] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.105+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-11] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.105+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-19] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.106+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-1] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.107+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-12] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.107+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-18] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.110+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-30] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.112+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-25] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.114+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-29] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.113+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-28] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.115+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-26] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.116+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-22] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.117+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-23] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.117+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-21] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.132+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-35] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.132+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-32] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.132+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-36] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.132+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-39] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.132+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-34] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.132+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-38] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.132+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-31] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.132+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-37] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.132+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-33] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.134+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-32] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.134+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-35] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.135+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-36] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.136+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-39] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.137+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-34] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.132+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-40] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.138+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-31] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.137+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-38] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.139+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-37] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.139+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-33] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.140+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-40] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.164+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-41] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.164+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-44] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.164+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-43] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.164+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-42] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.165+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-47] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.165+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-46] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.165+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-48] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.167+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-41] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.165+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-49] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.167+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-44] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.165+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-50] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.165+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-45] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.168+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-42] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.167+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-43] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.168+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-47] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.169+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-46] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.169+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-49] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.169+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-48] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.171+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-45] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.170+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-50] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.197+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-52] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.198+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-55] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.199+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-55] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.196+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-51] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.198+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-56] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.205+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-56] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.205+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-51] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.199+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-52] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.200+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-53] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.200+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-58] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.207+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-53] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.207+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-58] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.207+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-59] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.209+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-59] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.207+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-54] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.210+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-54] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.207+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-60] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.212+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-60] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.200+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-57] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.212+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-57] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.230+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-61] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.231+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-62] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.233+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-61] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.233+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-62] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.233+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-65] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.234+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-65] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.234+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-64] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.233+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-68] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.237+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-68] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.234+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-63] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.237+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-63] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.236+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-64] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.233+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-66] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.238+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-66] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.233+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-67] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.239+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-67] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.235+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-69] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.240+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-69] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.235+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-70] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.241+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-70] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.259+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-79] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.260+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-79] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.259+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-73] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.260+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-76] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.259+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-71] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.260+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-74] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.263+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-74] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.261+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-73] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.260+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-75] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.262+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-76] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.261+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-77] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.265+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-77] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.261+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-80] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.262+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-72] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.263+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-71] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.262+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-78] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.264+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-75] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.266+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-80] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.267+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-78] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.267+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-72] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.290+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-85] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.290+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-82] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.290+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-81] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.290+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-86] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.290+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-87] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.290+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-89] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.292+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-85] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.292+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-82] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.290+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-84] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.290+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-83] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.290+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-90] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.292+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-81] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.290+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-88] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.293+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-86] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.294+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-87] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.296+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-88] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.294+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-89] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.295+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-84] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.295+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-83] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.296+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-90] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.322+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-94] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.322+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-96] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.322+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-97] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.322+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-93] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.322+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-92] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.324+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-96] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.324+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-94] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.323+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-99] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.323+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-100] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.322+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-95] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.322+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-91] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.325+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-97] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.327+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-92] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.323+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-98] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock: Query requires transaction be in progress, but no transaction is known to be in progress

org.springframework.dao.InvalidDataAccessApiUsageException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy121.findByIdWithPessimisticWriteLock(Unknown Source) ~[na:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.decreaseStock(PessimisticLockProductService.java:29) ~[main/:na]
	at com.tetz.kb6_back.service.PessimisticLockProductService.lambda$performanceTest$1(PessimisticLockProductService.java:64) ~[main/:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: jakarta.persistence.TransactionRequiredException: Query requires transaction be in progress, but no transaction is known to be in progress
	at org.hibernate.internal.AbstractSharedSessionContract.prepareForQueryExecution(AbstractSharedSessionContract.java:528) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQuery(AbstractSelectionQuery.java:171) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.beforeQueryHandlingFetchProfiles(AbstractSelectionQuery.java:159) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:140) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at jdk.proxy2/jdk.proxy2.$Proxy134.getSingleResult(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.2.jar:3.4.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.2.jar:6.2.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.2.jar:6.2.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.2.jar:6.2.2]
	... 12 common frames omitted

2025-03-02T16:50:08.326+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-93] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.327+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-99] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.328+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-100] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.329+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-95] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.329+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-91] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.330+09:00 ERROR 10688 --- [kb6-back] [pool-4-thread-98] c.t.k.s.PessimisticLockProductService    : Error in pessimistic lock thread: Query requires transaction be in progress, but no transaction is known to be in progress
2025-03-02T16:50:08.332+09:00  INFO 10688 --- [kb6-back] [http-nio-8080-exec-1] c.t.k.s.PessimisticLockProductService    : Pessimistic lock test completed. Duration: 278ms, Success: 0, Fail: 100
2025-03-02T16:51:57.903+09:00  INFO 14036 --- [kb6-back] [main] com.tetz.kb6_back.Kb6BackApplication     : Starting Kb6BackApplication using Java 17.0.11 with PID 14036 (D:\git\kb6-back\kb6-back\build\classes\java\main started by lhs in D:\git\kb6-back)
2025-03-02T16:51:57.906+09:00  INFO 14036 --- [kb6-back] [main] com.tetz.kb6_back.Kb6BackApplication     : No active profile set, falling back to 1 default profile: "default"
2025-03-02T16:51:58.580+09:00  INFO 14036 --- [kb6-back] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-03-02T16:51:58.582+09:00  INFO 14036 --- [kb6-back] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-02T16:51:58.713+09:00  INFO 14036 --- [kb6-back] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 114 ms. Found 2 JPA repository interfaces.
2025-03-02T16:51:58.726+09:00  INFO 14036 --- [kb6-back] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-03-02T16:51:58.727+09:00  INFO 14036 --- [kb6-back] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-03-02T16:51:58.740+09:00  INFO 14036 --- [kb6-back] [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.tetz.kb6_back.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-03-02T16:51:58.740+09:00  INFO 14036 --- [kb6-back] [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.tetz.kb6_back.repository.UserSQLRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-03-02T16:51:58.740+09:00  INFO 14036 --- [kb6-back] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
2025-03-02T16:51:59.292+09:00  INFO 14036 --- [kb6-back] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-03-02T16:51:59.303+09:00  INFO 14036 --- [kb6-back] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-02T16:51:59.303+09:00  INFO 14036 --- [kb6-back] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-03-02T16:51:59.363+09:00  INFO 14036 --- [kb6-back] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-03-02T16:51:59.364+09:00  INFO 14036 --- [kb6-back] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1409 ms
2025-03-02T16:51:59.501+09:00  INFO 14036 --- [kb6-back] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-02T16:51:59.552+09:00  INFO 14036 --- [kb6-back] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.5.Final
2025-03-02T16:51:59.588+09:00  INFO 14036 --- [kb6-back] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-02T16:51:59.841+09:00  INFO 14036 --- [kb6-back] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-02T16:51:59.871+09:00  INFO 14036 --- [kb6-back] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-02T16:52:00.008+09:00  INFO 14036 --- [kb6-back] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@44492c06
2025-03-02T16:52:00.012+09:00  INFO 14036 --- [kb6-back] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-02T16:52:00.051+09:00  WARN 14036 --- [kb6-back] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-02T16:52:00.052+09:00  WARN 14036 --- [kb6-back] [main] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-03-02T16:52:00.069+09:00  INFO 14036 --- [kb6-back] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-03-02T16:52:00.692+09:00  INFO 14036 --- [kb6-back] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-02T16:52:00.725+09:00  INFO 14036 --- [kb6-back] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-02T16:52:00.921+09:00  INFO 14036 --- [kb6-back] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-03-02T16:52:01.582+09:00  WARN 14036 --- [kb6-back] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-02T16:52:01.951+09:00  INFO 14036 --- [kb6-back] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-03-02T16:52:01.960+09:00  INFO 14036 --- [kb6-back] [main] com.tetz.kb6_back.Kb6BackApplication     : Started Kb6BackApplication in 4.505 seconds (process running for 4.886)
2025-03-02T16:52:06.136+09:00  INFO 14036 --- [kb6-back] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-02T16:52:06.136+09:00  INFO 14036 --- [kb6-back] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-03-02T16:52:06.138+09:00  INFO 14036 --- [kb6-back] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-03-02T16:52:06.346+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-10] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.346+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-60] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.346+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-56] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.346+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-54] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.346+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-17] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.346+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-22] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.346+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-16] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.346+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-31] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.346+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-26] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.346+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-76] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.346+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-14] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.346+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-45] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.346+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-57] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.351+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-79] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.351+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-83] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.351+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-2] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.351+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-4] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.351+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-3] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.351+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-6] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.352+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-84] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.352+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-7] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.352+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-9] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.352+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-86] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.353+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-5] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.353+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-15] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.353+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-13] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.353+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-1] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.353+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-8] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.354+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-20] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.355+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-12] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.356+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-34] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.357+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-27] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.357+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-38] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.358+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-39] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.359+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-37] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.359+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-40] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.359+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-42] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.360+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-43] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.360+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-24] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.361+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-44] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.361+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-30] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.362+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-46] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.362+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-48] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.362+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-29] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.363+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-52] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.363+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-49] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.365+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-62] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.365+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-55] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.365+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-50] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.367+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-70] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.367+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-64] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.367+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-61] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.367+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-59] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.368+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-71] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.369+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-75] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.369+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-67] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.369+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-80] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.369+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-73] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.369+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-74] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.369+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-72] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.371+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-85] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.373+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-92] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.373+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-99] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.373+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-77] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.373+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-87] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.373+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-90] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.375+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-21] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.375+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-11] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.375+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-100] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.376+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-28] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.377+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-94] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.377+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-32] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.377+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-33] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.377+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-93] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.378+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-35] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.378+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-36] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.379+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-58] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.379+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-81] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.379+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-91] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.379+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-23] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.380+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-89] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.380+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-53] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.380+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-97] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.380+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-69] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.381+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-66] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.382+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-51] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.382+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-96] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.382+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-95] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.384+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-19] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.385+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-98] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.385+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-68] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.385+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-82] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.386+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-65] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 1
2025-03-02T16:52:06.455+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-14] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.456+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-17] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.456+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-57] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.456+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-16] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.457+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-76] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.457+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-22] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.457+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-54] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.457+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-26] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.458+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-56] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.458+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-10] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.458+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-31] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.472+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-2] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.472+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-27] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.473+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-39] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.473+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-3] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.473+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-40] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.473+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-86] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.473+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-38] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.473+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-4] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.473+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-9] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.475+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-34] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.475+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-46] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.479+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-49] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.480+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-44] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.480+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-5] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.480+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-37] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.481+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-48] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.484+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-20] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.484+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-24] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.484+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-52] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.484+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-43] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.484+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-42] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.485+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-15] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.487+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-13] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.490+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-85] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.490+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-74] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.490+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-75] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.490+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-99] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.491+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-80] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.492+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-67] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.492+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-87] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.495+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-32] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.496+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-93] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.496+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-73] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.496+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-53] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.497+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-97] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.497+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-28] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.498+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-33] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.500+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-70] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.502+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-6] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.504+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-90] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.504+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-81] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.505+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-64] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.505+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-77] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.506+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-62] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.506+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-21] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.506+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-1] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.506+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-84] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.506+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-55] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.507+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-58] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.507+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-29] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.507+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-11] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.507+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-69] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.508+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-12] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.508+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-7] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.509+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-91] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.512+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-98] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.512+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-51] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.512+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-94] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.513+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-82] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.513+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-95] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.513+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-68] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.514+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-19] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.516+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-72] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.515+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-83] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.517+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-100] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.518+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-30] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.519+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-65] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.520+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-59] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.520+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-35] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.526+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-36] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.526+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-89] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.527+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-71] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 2
2025-03-02T16:52:06.565+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-17] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:52:06.565+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-16] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:52:06.566+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-57] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:52:06.580+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-54] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:52:06.580+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-56] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:52:06.581+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-76] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:52:06.581+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-22] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:52:06.581+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-26] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:52:06.582+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-31] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:52:06.594+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-5] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:52:06.595+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-38] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:52:06.595+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-37] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:52:06.596+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-9] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:52:06.596+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-2] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:52:06.597+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-86] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:52:06.598+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-44] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:52:06.598+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-34] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:52:06.599+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-15] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:52:06.599+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-3] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:52:06.599+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-49] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:52:06.600+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-27] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:52:06.600+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-52] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:52:06.602+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-20] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:52:06.603+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-4] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:52:06.604+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-39] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:52:06.604+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-24] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:52:06.604+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-40] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:52:06.606+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-42] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:52:06.609+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-97] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:52:06.610+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-67] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:52:06.610+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-75] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:52:06.610+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-32] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:52:06.610+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-33] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:52:06.610+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-87] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:52:06.611+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-70] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:52:06.612+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-93] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:52:06.612+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-99] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:52:06.612+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-28] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:52:06.612+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-80] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:52:06.613+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-85] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:52:06.616+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-13] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:52:06.616+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-53] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:52:06.625+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-91] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:52:06.625+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-94] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:52:06.626+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-11] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:52:06.626+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-98] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:52:06.626+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-51] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:52:06.626+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-58] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:52:06.627+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-64] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:52:06.627+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-21] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:52:06.627+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-69] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:52:06.632+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-82] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:52:06.633+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-7] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:52:06.634+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-84] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:52:06.634+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-68] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:52:06.635+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-19] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:52:06.640+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-72] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:52:06.640+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-89] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:52:06.640+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-59] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:52:06.640+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-71] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:52:06.640+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-36] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:52:06.640+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-65] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:52:06.640+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-35] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:52:06.641+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-95] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:52:06.641+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-83] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:52:06.648+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-12] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:52:06.648+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-1] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:52:06.648+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-29] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:52:06.648+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-6] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:52:06.649+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-62] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:52:06.651+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-100] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:52:06.651+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-90] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 3
2025-03-02T16:52:06.690+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-16] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:52:06.690+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-57] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:52:06.690+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-56] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:52:06.690+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-54] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:52:06.705+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-38] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:52:06.706+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-31] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:52:06.706+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-22] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:52:06.706+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-2] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:52:06.706+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-26] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:52:06.707+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-76] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:52:06.707+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-37] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:52:06.707+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-9] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:52:06.717+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-67] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:52:06.718+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-39] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:52:06.718+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-97] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:52:06.719+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-32] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:52:06.719+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-87] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:52:06.719+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-33] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:52:06.719+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-75] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:52:06.720+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-24] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:52:06.723+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-44] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:52:06.724+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-3] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:52:06.724+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-93] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:52:06.725+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-4] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:52:06.725+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-70] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:52:06.725+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-27] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:52:06.726+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-52] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:52:06.726+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-99] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:52:06.726+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-15] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:52:06.726+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-34] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:52:06.730+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-40] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:52:06.731+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-20] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:52:06.731+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-64] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:52:06.731+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-85] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:52:06.734+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-13] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:52:06.734+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-80] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:52:06.735+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-28] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:52:06.738+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-53] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:52:06.738+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-11] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:52:06.739+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-21] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:52:06.739+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-51] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:52:06.739+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-58] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:52:06.739+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-94] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:52:06.746+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-91] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:52:06.753+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-68] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:52:06.753+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-95] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:52:06.753+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-69] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:52:06.754+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-7] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:52:06.756+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-84] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:52:06.757+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-83] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:52:06.760+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-72] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:52:06.760+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-35] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:52:06.760+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-89] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:52:06.760+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-65] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:52:06.760+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-36] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:52:06.764+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-71] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:52:06.764+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-19] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:52:06.766+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-62] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:52:06.767+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-12] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:52:06.767+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-90] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:52:06.767+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-1] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:52:06.768+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-29] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:52:06.769+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-6] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 4
2025-03-02T16:52:06.798+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-56] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:52:06.799+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-54] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:52:06.799+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-57] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:52:06.814+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-31] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:52:06.814+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-38] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:52:06.814+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-2] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:52:06.815+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-22] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:52:06.828+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-9] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:52:06.828+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-37] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:52:06.829+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-97] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:52:06.829+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-75] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:52:06.829+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-76] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:52:06.829+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-33] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:52:06.830+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-87] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:52:06.830+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-39] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:52:06.830+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-24] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:52:06.845+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-20] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:52:06.846+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-99] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:52:06.846+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-3] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:52:06.847+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-34] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:52:06.848+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-15] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:52:06.848+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-40] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:52:06.849+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-13] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:52:06.849+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-52] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:52:06.849+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-93] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:52:06.849+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-85] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:52:06.853+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-27] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:52:06.852+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-4] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:52:06.853+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-91] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:52:06.853+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-80] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:52:06.853+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-64] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:52:06.854+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-28] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:52:06.860+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-51] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:52:06.860+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-21] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:52:06.860+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-94] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:52:06.860+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-58] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:52:06.860+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-53] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:52:06.876+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-89] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:52:06.876+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-95] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:52:06.877+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-68] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:52:06.877+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-69] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:52:06.877+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-62] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:52:06.878+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-65] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:52:06.879+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-7] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:52:06.879+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-90] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:52:06.882+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-71] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:52:06.882+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-12] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:52:06.883+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-19] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:52:06.883+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-72] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:52:06.883+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-35] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:52:06.883+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-83] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:52:06.884+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-84] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:52:06.884+09:00  INFO 14036 --- [kb6-back] [pool-3-thread-29] c.t.k.s.OptimisticLockProductService     : Optimistic lock exception occurred. Retry count: 5
2025-03-02T16:52:06.900+09:00 ERROR 14036 --- [kb6-back] [pool-3-thread-54] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:52:06.900+09:00 ERROR 14036 --- [kb6-back] [pool-3-thread-57] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:52:06.900+09:00 ERROR 14036 --- [kb6-back] [pool-3-thread-56] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:52:06.915+09:00 ERROR 14036 --- [kb6-back] [pool-3-thread-2] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:52:06.915+09:00 ERROR 14036 --- [kb6-back] [pool-3-thread-38] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:52:06.915+09:00 ERROR 14036 --- [kb6-back] [pool-3-thread-31] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:52:06.931+09:00 ERROR 14036 --- [kb6-back] [pool-3-thread-39] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:52:06.931+09:00 ERROR 14036 --- [kb6-back] [pool-3-thread-33] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:52:06.931+09:00 ERROR 14036 --- [kb6-back] [pool-3-thread-75] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:52:06.931+09:00 ERROR 14036 --- [kb6-back] [pool-3-thread-76] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:52:06.931+09:00 ERROR 14036 --- [kb6-back] [pool-3-thread-97] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:52:06.931+09:00 ERROR 14036 --- [kb6-back] [pool-3-thread-22] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:52:06.931+09:00 ERROR 14036 --- [kb6-back] [pool-3-thread-9] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:52:06.931+09:00 ERROR 14036 --- [kb6-back] [pool-3-thread-37] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:52:06.931+09:00 ERROR 14036 --- [kb6-back] [pool-3-thread-87] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:52:06.933+09:00 ERROR 14036 --- [kb6-back] [pool-3-thread-24] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:52:06.947+09:00 ERROR 14036 --- [kb6-back] [pool-3-thread-99] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:52:06.947+09:00 ERROR 14036 --- [kb6-back] [pool-3-thread-20] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:52:06.963+09:00 ERROR 14036 --- [kb6-back] [pool-3-thread-80] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:52:06.963+09:00 ERROR 14036 --- [kb6-back] [pool-3-thread-13] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:52:06.963+09:00 ERROR 14036 --- [kb6-back] [pool-3-thread-58] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:52:06.963+09:00 ERROR 14036 --- [kb6-back] [pool-3-thread-94] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:52:06.963+09:00 ERROR 14036 --- [kb6-back] [pool-3-thread-64] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:52:06.963+09:00 ERROR 14036 --- [kb6-back] [pool-3-thread-4] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:52:06.963+09:00 ERROR 14036 --- [kb6-back] [pool-3-thread-91] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:52:06.963+09:00 ERROR 14036 --- [kb6-back] [pool-3-thread-52] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:52:06.963+09:00 ERROR 14036 --- [kb6-back] [pool-3-thread-28] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:52:06.963+09:00 ERROR 14036 --- [kb6-back] [pool-3-thread-51] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:52:06.963+09:00 ERROR 14036 --- [kb6-back] [pool-3-thread-21] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:52:06.963+09:00 ERROR 14036 --- [kb6-back] [pool-3-thread-34] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:52:06.963+09:00 ERROR 14036 --- [kb6-back] [pool-3-thread-53] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:52:06.963+09:00 ERROR 14036 --- [kb6-back] [pool-3-thread-85] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:52:06.963+09:00 ERROR 14036 --- [kb6-back] [pool-3-thread-15] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:52:06.963+09:00 ERROR 14036 --- [kb6-back] [pool-3-thread-40] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:52:06.963+09:00 ERROR 14036 --- [kb6-back] [pool-3-thread-27] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:52:06.963+09:00 ERROR 14036 --- [kb6-back] [pool-3-thread-3] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:52:06.964+09:00 ERROR 14036 --- [kb6-back] [pool-3-thread-93] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:52:06.979+09:00 ERROR 14036 --- [kb6-back] [pool-3-thread-68] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:52:06.979+09:00 ERROR 14036 --- [kb6-back] [pool-3-thread-62] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:52:06.979+09:00 ERROR 14036 --- [kb6-back] [pool-3-thread-69] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:52:06.979+09:00 ERROR 14036 --- [kb6-back] [pool-3-thread-95] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:52:06.979+09:00 ERROR 14036 --- [kb6-back] [pool-3-thread-89] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:52:06.982+09:00 ERROR 14036 --- [kb6-back] [pool-3-thread-65] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:52:06.994+09:00 ERROR 14036 --- [kb6-back] [pool-3-thread-19] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:52:06.994+09:00 ERROR 14036 --- [kb6-back] [pool-3-thread-83] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:52:06.994+09:00 ERROR 14036 --- [kb6-back] [pool-3-thread-71] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:52:06.994+09:00 ERROR 14036 --- [kb6-back] [pool-3-thread-72] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:52:06.994+09:00 ERROR 14036 --- [kb6-back] [pool-3-thread-90] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:52:06.994+09:00 ERROR 14036 --- [kb6-back] [pool-3-thread-84] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:52:06.994+09:00 ERROR 14036 --- [kb6-back] [pool-3-thread-12] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:52:06.994+09:00 ERROR 14036 --- [kb6-back] [pool-3-thread-7] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:52:06.994+09:00 ERROR 14036 --- [kb6-back] [pool-3-thread-35] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:52:06.994+09:00 ERROR 14036 --- [kb6-back] [pool-3-thread-29] c.t.k.s.OptimisticLockProductService     : Error in optimistic lock thread: Failed to decrease stock after 5 retries
2025-03-02T16:52:06.995+09:00  INFO 14036 --- [kb6-back] [http-nio-8080-exec-1] c.t.k.s.OptimisticLockProductService     : Optimistic lock test completed. Duration: 750ms, Success: 47, Fail: 53
2025-03-02T16:52:07.889+09:00  INFO 14036 --- [kb6-back] [http-nio-8080-exec-1] c.t.k.s.PessimisticLockProductService    : Pessimistic lock test completed. Duration: 377ms, Success: 100, Fail: 0
